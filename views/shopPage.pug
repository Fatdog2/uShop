extends user-layout

block content
    //- Making the success modal render only if an item has been added to cart
    if addedtoCart == true
        div(class="modal fade success" id="successModal" tabindex="-1" role="dialog" aria-labelledby="successModalTitle" aria-hidden="true")
            div(class="modal-dialog modal-dialog-centered" role="document")
                div(class="modal-content")
                    div(class="modal-header")
                        h5(class="modal-title" id="successModalLongTitle") Item(s) Added to Cart
                        button(type="button" class="close" data-dismiss="modal" aria-label="Close")
                            span(aria-hidden="true") &times;
                    div(class="modal-body")
                        p 
                            | #{qty} x 
                            b #{itemAdded.name} 
                            | have been added to your cart.
        //- Jquery to open the modal
        script.
            $(window).on('load', function() {
                $('#successModal').modal('show')
            })
    link(rel="stylesheet", href="/css/slider.css")
    div(style="width: 13rem; height: 40rem;")
        div(class="card ml-2 mt-3")
            h5(class="card-title text-center mt-3 mb-3") Categories
            ul(class="list-group list-group-flush p-0")
                each category, i in shop.itemCategories
                    li(class="list-group-item p-1 text-center")=category
        div(class="card ml-2 mt-3")
            h5(class="card-title text-center mt-3 mb-3") Manufacturers
            ul(class="list-group list-group-flush p-0")
                each manufacturer, i in shop.manufacturers
                    li(class="list-group-item p-1 text-center")=manufacturer
        div(class="card ml-2 mt-3")
            h5(class="card-title text-center mt-3 mb-3") Price
            input(type="range" class="form-control")
    div(class="row position-absolute" style="top: 6rem; left: 15rem; width: 35rem; font-size: 175%")
            input(type="text" class="form-control position-relative" style="left: 6.5rem")
            label(class="position-relative" style="top: -2.5rem") Search:
    div(class="card-deck position-absolute" style="left: 15rem; top: 11rem")
                each item, i in items
                    if (i % 4 == 0) && (i != 0)

                    else 
                        div(class="card" style="max-width: 200px")
                            img(class="card-img-top p-1" src="/photo-storage/"+item.img alt="Card image cap" style="max-width: 200  px")
                            div(class="card-body pb-0")
                                b=item.name
                                p Price:
                                    b $#{item.retail_price}
                                form(class="ml-0 position-relative" action="/"+user._id+"/addtoCart/"+item._id+"/shop/"+shop._id, method="post" style="left: -10px")
                                    input(class="form-control position-relative" type="number", name="qty" style="width: 38%; left: 7.3rem; top: 2.4rem" value=1 max=99)
                                    button(type="submit" class="btn btn-primary mb-2") Add to Cart
                                    
                                
                                
